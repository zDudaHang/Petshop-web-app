{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.disableByRange = exports.DateField = void 0;\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_popper_1 = require(\"react-popper\");\n\nvar useStyles_1 = require(\"../../styles/hooks/useStyles\");\n\nvar react_2 = require(\"../../util/react\");\n\nvar Calendar_1 = require(\"../Calendar\");\n\nvar util_1 = require(\"../Calendar/util\");\n\nvar FocusManagerContainer_1 = require(\"../FocusManagerContainer\");\n\nvar DateInput_1 = require(\"./DateInput\");\n\nfunction DateField(props) {\n  var calendarProps = props.calendarProps,\n      popperProps = props.popperProps,\n      minDate = props.minDate,\n      maxDate = props.maxDate,\n      value = props.value,\n      onClick = props.onClick,\n      icon = props.icon,\n      onIconClick = props.onIconClick,\n      rest = __rest(props, [\"calendarProps\", \"popperProps\", \"minDate\", \"maxDate\", \"value\", \"onClick\", \"icon\", \"onIconClick\"]);\n\n  var _a = useStyles_1.useStyles(createStyles),\n      css = _a.css,\n      classes = _a.classes;\n\n  var _b = react_1.useState(),\n      inputRef = _b[0],\n      setInputRef = _b[1];\n\n  var _c = react_1.useState(),\n      popupRef = _c[0],\n      setPopupRef = _c[1];\n\n  var _d = react_1.useState(false),\n      open = _d[0],\n      setOpen = _d[1];\n\n  var _e = react_1.useState(new Date()),\n      visibleDate = _e[0],\n      setVisibleDate = _e[1];\n\n  react_1.useEffect(function () {\n    setVisibleDate(util_1.isValidDate(value) ? value : new Date());\n  }, [value]);\n\n  var _f = react_popper_1.usePopper(inputRef, popupRef, __assign(__assign({}, popperProps), {\n    placement: 'bottom-start'\n  })),\n      popperStyle = _f.styles.popper,\n      placement = _f.attributes.placement;\n\n  var handleDayClick = function (day) {\n    inputRef.focus();\n    setOpen(false);\n    return props.onChange(day);\n  };\n\n  var handleIconClick = function () {\n    return setOpen(true);\n  };\n\n  var handleInputIconClick = function () {\n    return setOpen(true);\n  };\n\n  var handleFocusIn = function () {\n    return setOpen(true);\n  };\n\n  var handleFocusOut = function () {\n    return setOpen(false);\n  };\n\n  var handleVisibleDateChange = function (newVisibleDate) {\n    return setVisibleDate(newVisibleDate);\n  };\n\n  return react_1.default.createElement(FocusManagerContainer_1.FocusManagerContainer, {\n    onFocusIn: handleFocusIn,\n    onFocusOut: handleFocusOut\n  }, react_1.default.createElement(DateInput_1.DateInput, __assign({\n    inputRef: setInputRef,\n    value: value,\n    icon: icon,\n    onIconClick: react_2.composeHandlers(handleInputIconClick, onIconClick),\n    onClick: react_2.composeHandlers(handleIconClick, onClick)\n  }, rest)), open && react_1.default.createElement(\"div\", {\n    ref: setPopupRef,\n    className: css(classes.root, popperStyle),\n    \"data-placement\": placement,\n    tabIndex: -1\n  }, react_1.default.createElement(Calendar_1.Calendar, __assign({\n    visibleDate: visibleDate,\n    onVisibleDateChange: handleVisibleDateChange,\n    onDayClick: handleDayClick,\n    modifiers: {\n      selected: function (day) {\n        return value && util_1.isSameDay(day, value);\n      },\n      disabled: exports.disableByRange(props.minDate, props.maxDate)\n    }\n  }, calendarProps))));\n}\n\nexports.DateField = DateField;\nDateField.defaultProps = {\n  icon: 'calendarOutline',\n  onChange: function () {\n    return null;\n  },\n  onFocus: function () {\n    return null;\n  },\n  onClick: function () {\n    return null;\n  },\n  transformTwoYearDigit: false\n};\n\nexports.disableByRange = function (minDate, maxDate) {\n  var realMinDate = new Date(minDate);\n  realMinDate.setHours(0, 0, 0, 0);\n  var realMaxDate = new Date(maxDate);\n  realMaxDate.setHours(23, 59, 59, 999);\n  return function (day) {\n    return minDate && day < realMinDate || maxDate && day > realMaxDate;\n  };\n};\n\nvar createStyles = function (theme) {\n  return {\n    root: {\n      zIndex: theme.zIndex.popper,\n      background: theme.pallete.surface.main,\n      boxShadow: theme.shadows.outer[40],\n      borderRadius: theme.radius.popper,\n      padding: '0.5rem .25rem .25rem .25rem',\n      outline: 'none'\n    }\n  };\n};","map":{"version":3,"sources":["../../../src/components/DateField/DateField.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.disableByRange = exports.DateField = void 0;\nvar react_1 = __importStar(require(\"react\"));\nvar react_popper_1 = require(\"react-popper\");\nvar useStyles_1 = require(\"../../styles/hooks/useStyles\");\nvar react_2 = require(\"../../util/react\");\nvar Calendar_1 = require(\"../Calendar\");\nvar util_1 = require(\"../Calendar/util\");\nvar FocusManagerContainer_1 = require(\"../FocusManagerContainer\");\nvar DateInput_1 = require(\"./DateInput\");\nfunction DateField(props) {\n    var calendarProps = props.calendarProps, popperProps = props.popperProps, minDate = props.minDate, maxDate = props.maxDate, value = props.value, onClick = props.onClick, icon = props.icon, onIconClick = props.onIconClick, rest = __rest(props, [\"calendarProps\", \"popperProps\", \"minDate\", \"maxDate\", \"value\", \"onClick\", \"icon\", \"onIconClick\"]);\n    var _a = useStyles_1.useStyles(createStyles), css = _a.css, classes = _a.classes;\n    var _b = react_1.useState(), inputRef = _b[0], setInputRef = _b[1];\n    var _c = react_1.useState(), popupRef = _c[0], setPopupRef = _c[1];\n    var _d = react_1.useState(false), open = _d[0], setOpen = _d[1];\n    var _e = react_1.useState(new Date()), visibleDate = _e[0], setVisibleDate = _e[1];\n    react_1.useEffect(function () {\n        setVisibleDate(util_1.isValidDate(value) ? value : new Date());\n    }, [value]);\n    var _f = react_popper_1.usePopper(inputRef, popupRef, __assign(__assign({}, popperProps), { placement: 'bottom-start' })), popperStyle = _f.styles.popper, placement = _f.attributes.placement;\n    var handleDayClick = function (day) {\n        inputRef.focus();\n        setOpen(false);\n        return props.onChange(day);\n    };\n    var handleIconClick = function () { return setOpen(true); };\n    var handleInputIconClick = function () { return setOpen(true); };\n    var handleFocusIn = function () { return setOpen(true); };\n    var handleFocusOut = function () { return setOpen(false); };\n    var handleVisibleDateChange = function (newVisibleDate) { return setVisibleDate(newVisibleDate); };\n    return (react_1.default.createElement(FocusManagerContainer_1.FocusManagerContainer, { onFocusIn: handleFocusIn, onFocusOut: handleFocusOut },\n        react_1.default.createElement(DateInput_1.DateInput, __assign({ inputRef: setInputRef, value: value, icon: icon, onIconClick: react_2.composeHandlers(handleInputIconClick, onIconClick), onClick: react_2.composeHandlers(handleIconClick, onClick) }, rest)),\n        open && (react_1.default.createElement(\"div\", { ref: setPopupRef, className: css(classes.root, popperStyle), \"data-placement\": placement, tabIndex: -1 },\n            react_1.default.createElement(Calendar_1.Calendar, __assign({ visibleDate: visibleDate, onVisibleDateChange: handleVisibleDateChange, onDayClick: handleDayClick, modifiers: {\n                    selected: function (day) { return value && util_1.isSameDay(day, value); },\n                    disabled: exports.disableByRange(props.minDate, props.maxDate),\n                } }, calendarProps))))));\n}\nexports.DateField = DateField;\nDateField.defaultProps = {\n    icon: 'calendarOutline',\n    onChange: function () { return null; },\n    onFocus: function () { return null; },\n    onClick: function () { return null; },\n    transformTwoYearDigit: false,\n};\nexports.disableByRange = function (minDate, maxDate) {\n    var realMinDate = new Date(minDate);\n    realMinDate.setHours(0, 0, 0, 0);\n    var realMaxDate = new Date(maxDate);\n    realMaxDate.setHours(23, 59, 59, 999);\n    return function (day) {\n        return (minDate && day < realMinDate) || (maxDate && day > realMaxDate);\n    };\n};\nvar createStyles = function (theme) { return ({\n    root: {\n        zIndex: theme.zIndex.popper,\n        background: theme.pallete.surface.main,\n        boxShadow: theme.shadows.outer[40],\n        borderRadius: theme.radius.popper,\n        padding: '0.5rem .25rem .25rem .25rem',\n        outline: 'none',\n    },\n}); };\n//# sourceMappingURL=DateField.js.map"]},"metadata":{},"sourceType":"script"}