{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useAsyncSelect = void 0;\n\nvar react_1 = require(\"react\");\n\nvar util_1 = require(\"../../util\");\n\nfunction useAsyncSelect(loadItems, debounceMs) {\n  if (debounceMs === void 0) {\n    debounceMs = 350;\n  }\n\n  var _a = react_1.useState(false),\n      loading = _a[0],\n      setLoading = _a[1];\n\n  var _b = react_1.useState([]),\n      items = _b[0],\n      setItems = _b[1];\n\n  var load = react_1.useCallback(function (filter) {\n    setLoading(true);\n    loadItems(filter).then(function (loadedItems) {\n      return setItems(loadedItems);\n    }).finally(function () {\n      return setLoading(false);\n    });\n  }, [loadItems]);\n  var debouncedLoad = react_1.useMemo(function () {\n    return util_1.debounce(load, debounceMs);\n  }, [load]);\n\n  var handleFilterChange = function (filter) {\n    setLoading(true);\n    return debouncedLoad(filter);\n  };\n\n  return {\n    getSelectProps: function () {\n      return {\n        items: items,\n        loading: loading,\n        onFilterChange: handleFilterChange\n      };\n    }\n  };\n}\n\nexports.useAsyncSelect = useAsyncSelect;","map":{"version":3,"sources":["../../../src/components/Select/useAsyncSelect.ts"],"names":[],"mappings":";;;;;;;AAAA,IAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;;AAEA,IAAA,MAAA,GAAA,OAAA,CAAA,YAAA,CAAA;;AAUA,SAAgB,cAAhB,CAAkC,SAAlC,EAAmE,UAAnE,EAAmF;AAAhB,MAAA,UAAA,KAAA,KAAA,CAAA,EAAA;AAAA,IAAA,UAAA,GAAA,GAAA;AAAgB;;AAC3E,MAAA,EAAA,GAAwB,OAAA,CAAA,QAAA,CAAS,KAAT,CAAxB;AAAA,MAAC,OAAO,GAAA,EAAA,CAAA,CAAA,CAAR;AAAA,MAAU,UAAU,GAAA,EAAA,CAAA,CAAA,CAApB;;AACA,MAAA,EAAA,GAAoB,OAAA,CAAA,QAAA,CAAc,EAAd,CAApB;AAAA,MAAC,KAAK,GAAA,EAAA,CAAA,CAAA,CAAN;AAAA,MAAQ,QAAQ,GAAA,EAAA,CAAA,CAAA,CAAhB;;AAEN,MAAM,IAAI,GAAG,OAAA,CAAA,WAAA,CACX,UAAC,MAAD,EAAe;AACb,IAAA,UAAU,CAAC,IAAD,CAAV;AACA,IAAA,SAAS,CAAC,MAAD,CAAT,CACG,IADH,CACQ,UAAA,WAAA,EAAW;AAAI,aAAA,QAAQ,CAAR,WAAQ,CAAR;AAAqB,KAD5C,EAEG,OAFH,CAEW,YAAA;AAAM,aAAA,UAAU,CAAV,KAAU,CAAV;AAAiB,KAFlC;AAGD,GANU,EAOX,CAAC,SAAD,CAPW,CAAb;AAUA,MAAM,aAAa,GAAG,OAAA,CAAA,OAAA,CAAQ,YAAA;AAAM,WAAA,MAAA,CAAA,QAAA,CAAS,IAAT,EAAA,UAAA,CAAA;AAA0B,GAAxC,EAA0C,CAAC,IAAD,CAA1C,CAAtB;;AAEA,MAAM,kBAAkB,GAAG,UAAC,MAAD,EAAe;AACxC,IAAA,UAAU,CAAC,IAAD,CAAV;AACA,WAAO,aAAa,CAAC,MAAD,CAApB;AACD,GAHD;;AAKA,SAAO;AACL,IAAA,cAAc,EAAE,YAAA;AAAM,aAAC;AACrB,QAAA,KAAK,EAAA,KADgB;AAErB,QAAA,OAAO,EAAA,OAFc;AAGrB,QAAA,cAAc,EAAE;AAHK,OAAD;AAIpB;AALG,GAAP;AAOD;;AA5BD,OAAA,CAAA,cAAA,GAAA,cAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useAsyncSelect = void 0;\nvar react_1 = require(\"react\");\nvar util_1 = require(\"../../util\");\nfunction useAsyncSelect(loadItems, debounceMs) {\n    if (debounceMs === void 0) { debounceMs = 350; }\n    var _a = react_1.useState(false), loading = _a[0], setLoading = _a[1];\n    var _b = react_1.useState([]), items = _b[0], setItems = _b[1];\n    var load = react_1.useCallback(function (filter) {\n        setLoading(true);\n        loadItems(filter)\n            .then(function (loadedItems) { return setItems(loadedItems); })\n            .finally(function () { return setLoading(false); });\n    }, [loadItems]);\n    var debouncedLoad = react_1.useMemo(function () { return util_1.debounce(load, debounceMs); }, [load]);\n    var handleFilterChange = function (filter) {\n        setLoading(true);\n        return debouncedLoad(filter);\n    };\n    return {\n        getSelectProps: function () { return ({\n            items: items,\n            loading: loading,\n            onFilterChange: handleFilterChange,\n        }); },\n    };\n}\nexports.useAsyncSelect = useAsyncSelect;\n//# sourceMappingURL=useAsyncSelect.js.map"]},"metadata":{},"sourceType":"script"}