{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Modal = void 0;\n\nvar focus_trap_react_1 = __importDefault(require(\"focus-trap-react\"));\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar styles_1 = require(\"../../styles\");\n\nvar zIndex_1 = require(\"../../styles/theme/zIndex\");\n\nvar Portal_1 = require(\"../Portal\");\n\nvar FadeTransition_1 = require(\"../Transition/FadeTransition\");\n\nvar ModalBackdrop_1 = require(\"./ModalBackdrop\");\n\nvar ModalContainer_1 = require(\"./ModalContainer\");\n\nfunction Modal(props) {\n  var open = props.open,\n      size = props.size,\n      closeOnBackdropClick = props.closeOnBackdropClick,\n      children = props.children,\n      style = props.style,\n      onClose = props.onClose,\n      depthLevel = props.depthLevel,\n      manageOverflow = props.manageOverflow,\n      rest = __rest(props, [\"open\", \"size\", \"closeOnBackdropClick\", \"children\", \"style\", \"onClose\", \"depthLevel\", \"manageOverflow\"]);\n\n  var _a = styles_1.useStyles(createStyles, depthLevel),\n      classes = _a.classes,\n      css = _a.css; // Kill body scroll when opened\n\n\n  react_1.useEffect(function () {\n    if (manageOverflow) {\n      if (open) {\n        document.body.classList.add(classes.bodyWhenOpened);\n      } else {\n        document.body.classList.remove(classes.bodyWhenOpened);\n      }\n\n      return function () {\n        return document.body.classList.remove(classes.bodyWhenOpened);\n      };\n    }\n  }, [open, classes.bodyWhenOpened, manageOverflow]);\n  react_1.useEffect(function () {\n    // Attach \"Escape\" to close modal\n    var handleKeyDown = function (e) {\n      if (e.key === 'Escape') {\n        onClose();\n      }\n    };\n\n    if (open) {\n      document.addEventListener('keydown', handleKeyDown);\n    } else {\n      document.removeEventListener('keydown', handleKeyDown);\n    }\n\n    return function () {\n      return document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [open, onClose]);\n  return react_1.default.createElement(FadeTransition_1.FadeTransition, {\n    in: open\n  }, function (_a) {\n    var className = _a.className;\n    return react_1.default.createElement(react_1.default.Fragment, null, open && react_1.default.createElement(Portal_1.Portal, null, react_1.default.createElement(focus_trap_react_1.default, null, react_1.default.createElement(\"div\", {\n      className: className\n    }, react_1.default.createElement(\"div\", {\n      className: classes.modal\n    }, react_1.default.createElement(ModalContainer_1.ModalContainer, __assign({\n      style: css(classes.container, classes[size], style),\n      onClose: onClose\n    }, rest), children)), react_1.default.createElement(ModalBackdrop_1.ModalBackdrop, {\n      depthLevel: depthLevel,\n      onClick: closeOnBackdropClick ? onClose : undefined\n    })))));\n  });\n}\n\nexports.Modal = Modal;\nModal.defaultProps = {\n  size: 'large',\n  closeOnBackdropClick: true,\n  depthLevel: 1,\n  manageOverflow: true\n};\n\nvar createStyles = function (theme, depthLevel) {\n  return {\n    modal: {\n      position: 'fixed',\n      left: '50%',\n      top: '50%',\n      transform: 'translate(-50%, -50%)',\n      width: '100%',\n      pointerEvents: 'none',\n      zIndex: zIndex_1.zIndexLevel[depthLevel].modalContainer,\n      display: 'flex',\n      justifyContent: 'center',\n      padding: '2rem'\n    },\n    container: {\n      maxHeight: '80vh',\n      overflow: 'auto'\n    },\n    bodyWhenOpened: {\n      overflow: 'hidden'\n    },\n    large: {\n      width: 900\n    },\n    small: {\n      width: 520\n    },\n    auto: {\n      maxWidth: '100%'\n    }\n  };\n};","map":{"version":3,"sources":["../../../src/components/Modal/Modal.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Modal = void 0;\nvar focus_trap_react_1 = __importDefault(require(\"focus-trap-react\"));\nvar react_1 = __importStar(require(\"react\"));\nvar styles_1 = require(\"../../styles\");\nvar zIndex_1 = require(\"../../styles/theme/zIndex\");\nvar Portal_1 = require(\"../Portal\");\nvar FadeTransition_1 = require(\"../Transition/FadeTransition\");\nvar ModalBackdrop_1 = require(\"./ModalBackdrop\");\nvar ModalContainer_1 = require(\"./ModalContainer\");\nfunction Modal(props) {\n    var open = props.open, size = props.size, closeOnBackdropClick = props.closeOnBackdropClick, children = props.children, style = props.style, onClose = props.onClose, depthLevel = props.depthLevel, manageOverflow = props.manageOverflow, rest = __rest(props, [\"open\", \"size\", \"closeOnBackdropClick\", \"children\", \"style\", \"onClose\", \"depthLevel\", \"manageOverflow\"]);\n    var _a = styles_1.useStyles(createStyles, depthLevel), classes = _a.classes, css = _a.css;\n    // Kill body scroll when opened\n    react_1.useEffect(function () {\n        if (manageOverflow) {\n            if (open) {\n                document.body.classList.add(classes.bodyWhenOpened);\n            }\n            else {\n                document.body.classList.remove(classes.bodyWhenOpened);\n            }\n            return function () { return document.body.classList.remove(classes.bodyWhenOpened); };\n        }\n    }, [open, classes.bodyWhenOpened, manageOverflow]);\n    react_1.useEffect(function () {\n        // Attach \"Escape\" to close modal\n        var handleKeyDown = function (e) {\n            if (e.key === 'Escape') {\n                onClose();\n            }\n        };\n        if (open) {\n            document.addEventListener('keydown', handleKeyDown);\n        }\n        else {\n            document.removeEventListener('keydown', handleKeyDown);\n        }\n        return function () { return document.removeEventListener('keydown', handleKeyDown); };\n    }, [open, onClose]);\n    return (react_1.default.createElement(FadeTransition_1.FadeTransition, { in: open }, function (_a) {\n        var className = _a.className;\n        return (react_1.default.createElement(react_1.default.Fragment, null, open && (react_1.default.createElement(Portal_1.Portal, null,\n            react_1.default.createElement(focus_trap_react_1.default, null,\n                react_1.default.createElement(\"div\", { className: className },\n                    react_1.default.createElement(\"div\", { className: classes.modal },\n                        react_1.default.createElement(ModalContainer_1.ModalContainer, __assign({ style: css(classes.container, classes[size], style), onClose: onClose }, rest), children)),\n                    react_1.default.createElement(ModalBackdrop_1.ModalBackdrop, { depthLevel: depthLevel, onClick: closeOnBackdropClick ? onClose : undefined })))))));\n    }));\n}\nexports.Modal = Modal;\nModal.defaultProps = {\n    size: 'large',\n    closeOnBackdropClick: true,\n    depthLevel: 1,\n    manageOverflow: true,\n};\nvar createStyles = function (theme, depthLevel) { return ({\n    modal: {\n        position: 'fixed',\n        left: '50%',\n        top: '50%',\n        transform: 'translate(-50%, -50%)',\n        width: '100%',\n        pointerEvents: 'none',\n        zIndex: zIndex_1.zIndexLevel[depthLevel].modalContainer,\n        display: 'flex',\n        justifyContent: 'center',\n        padding: '2rem',\n    },\n    container: {\n        maxHeight: '80vh',\n        overflow: 'auto',\n    },\n    bodyWhenOpened: {\n        overflow: 'hidden',\n    },\n    large: { width: 900 },\n    small: { width: 520 },\n    auto: { maxWidth: '100%' },\n}); };\n//# sourceMappingURL=Modal.js.map"]},"metadata":{},"sourceType":"script"}