{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ModalStore = void 0;\n\nvar Observable_1 = require(\"../../../util/Observable\");\n\nvar ModalStore =\n/** @class */\nfunction (_super) {\n  __extends(ModalStore, _super);\n\n  function ModalStore() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.value = {\n      items: []\n    };\n    return _this;\n  }\n\n  ModalStore.prototype.notify = function (value) {\n    if (process.env.NODE_ENV === 'development' && this.listeners.length === 0) {\n      console.warn(\"No listeners to the modal store change. \" + \"Maybe you need to include a <ModalMountTarget /> in your application.\");\n    }\n\n    _super.prototype.notify.call(this, value);\n  };\n\n  ModalStore.prototype.append = function (render) {\n    var key = Math.random().toString(36).substring(2);\n    var component = render({\n      dispose: this.dispose(key)\n    });\n    this.value = __assign(__assign({}, this.value), {\n      items: __spreadArrays(this.value.items, [{\n        key: key,\n        component: component\n      }])\n    });\n    this.notify(this.value);\n    return key;\n  };\n\n  ModalStore.prototype.dispose = function (key) {\n    var _this = this;\n\n    return function () {\n      _this.value = __assign(__assign({}, _this.value), {\n        items: _this.value.items.filter(function (item) {\n          return item.key !== key;\n        })\n      });\n\n      _this.notify(_this.value);\n    };\n  };\n\n  return ModalStore;\n}(Observable_1.Observable);\n\nexports.ModalStore = ModalStore;\nexports.default = new ModalStore();","map":{"version":3,"sources":["../../../../src/components/Modal/auto/ModalStore.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAA,YAAA,GAAA,OAAA,CAAA,0BAAA,CAAA;;AAiBA,IAAA,UAAA;AAAA;AAAA,UAAA,MAAA,EAAA;AAAgC,EAAA,SAAA,CAAA,UAAA,EAAA,MAAA,CAAA;;AAAhC,WAAA,UAAA,GAAA;AAAA,QAAA,KAAA,GAAA,MAAA,KAAA,IAAA,IAAA,MAAA,CAAA,KAAA,CAAA,IAAA,EAAA,SAAA,CAAA,IAAA,IAAA;;AACU,IAAA,KAAA,CAAA,KAAA,GAAyB;AAC/B,MAAA,KAAK,EAAE;AADwB,KAAzB;;AA2CT;;AAvCC,EAAA,UAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,KAAP,EAA6B;AAC3B,QAAI,OAAO,CAAC,GAAR,CAAY,QAAZ,KAAyB,aAAzB,IAA0C,KAAK,SAAL,CAAe,MAAf,KAA0B,CAAxE,EAA2E;AACzE,MAAA,OAAO,CAAC,IAAR,CACE,6CACE,uEAFJ;AAID;;AAED,IAAA,MAAA,CAAA,SAAA,CAAM,MAAN,CAAY,IAAZ,CAAY,IAAZ,EAAa,KAAb;AACD,GATD;;AAWA,EAAA,UAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,MAAP,EAAiC;AAC/B,QAAM,GAAG,GAAG,IAAI,CAAC,MAAL,GACT,QADS,CACA,EADA,EAET,SAFS,CAEC,CAFD,CAAZ;AAIA,QAAM,SAAS,GAAG,MAAM,CAAC;AACvB,MAAA,OAAO,EAAE,KAAK,OAAL,CAAa,GAAb;AADc,KAAD,CAAxB;AAIA,SAAK,KAAL,GAAU,QAAA,CAAA,QAAA,CAAA,EAAA,EACL,KAAK,KADA,CAAA,EACK;AACb,MAAA,KAAK,EAAA,cAAA,CAAM,KAAK,KAAL,CAAW,KAAjB,EAAsB,CAAE;AAAE,QAAA,GAAG,EAAA,GAAL;AAAO,QAAA,SAAS,EAAA;AAAhB,OAAF,CAAtB;AADQ,KADL,CAAV;AAKA,SAAK,MAAL,CAAY,KAAK,KAAjB;AAEA,WAAO,GAAP;AACD,GAjBD;;AAmBQ,EAAA,UAAA,CAAA,SAAA,CAAA,OAAA,GAAR,UAAgB,GAAhB,EAA0C;AAA1C,QAAA,KAAA,GAAA,IAAA;;AACE,WAAO,YAAA;AACL,MAAA,KAAI,CAAC,KAAL,GAAU,QAAA,CAAA,QAAA,CAAA,EAAA,EACL,KAAI,CAAC,KADA,CAAA,EACK;AACb,QAAA,KAAK,EAAE,KAAI,CAAC,KAAL,CAAW,KAAX,CAAiB,MAAjB,CAAwB,UAAA,IAAA,EAAI;AAAI,iBAAA,IAAI,CAAC,GAAL,KAAA,GAAA;AAAgB,SAAhD;AADM,OADL,CAAV;;AAIA,MAAA,KAAI,CAAC,MAAL,CAAY,KAAI,CAAC,KAAjB;AACD,KAND;AAOD,GARO;;AASV,SAAA,UAAA;AAAC,CA5CD,CAAgC,YAAA,CAAA,UAAhC,CAAA;;AAAa,OAAA,CAAA,UAAA,GAAA,UAAA;AA8Cb,OAAA,CAAA,OAAA,GAAe,IAAI,UAAJ,EAAf","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ModalStore = void 0;\nvar Observable_1 = require(\"../../../util/Observable\");\nvar ModalStore = /** @class */ (function (_super) {\n    __extends(ModalStore, _super);\n    function ModalStore() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.value = {\n            items: [],\n        };\n        return _this;\n    }\n    ModalStore.prototype.notify = function (value) {\n        if (process.env.NODE_ENV === 'development' && this.listeners.length === 0) {\n            console.warn(\"No listeners to the modal store change. \" +\n                \"Maybe you need to include a <ModalMountTarget /> in your application.\");\n        }\n        _super.prototype.notify.call(this, value);\n    };\n    ModalStore.prototype.append = function (render) {\n        var key = Math.random()\n            .toString(36)\n            .substring(2);\n        var component = render({\n            dispose: this.dispose(key),\n        });\n        this.value = __assign(__assign({}, this.value), { items: __spreadArrays(this.value.items, [{ key: key, component: component }]) });\n        this.notify(this.value);\n        return key;\n    };\n    ModalStore.prototype.dispose = function (key) {\n        var _this = this;\n        return function () {\n            _this.value = __assign(__assign({}, _this.value), { items: _this.value.items.filter(function (item) { return item.key !== key; }) });\n            _this.notify(_this.value);\n        };\n    };\n    return ModalStore;\n}(Observable_1.Observable));\nexports.ModalStore = ModalStore;\nexports.default = new ModalStore();\n//# sourceMappingURL=ModalStore.js.map"]},"metadata":{},"sourceType":"script"}