{"ast":null,"code":"\"use strict\"; // From https://github.com/sandiiarov/use-events/blob/master/src/useClickOutside/index.tsx\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useClickOutside = void 0;\n\nvar react_1 = require(\"react\");\n/**\n * Trigger a callback whenever a click is made outside the ref elements.\n *\n * @param ref The target element(s) to ignore.\n * @param onClickOutside The callback function to be called.\n */\n\n\nexports.useClickOutside = function (ref, onClickOutside) {\n  var _a = react_1.useState(false),\n      isActive = _a[0],\n      setActive = _a[1];\n\n  react_1.useEffect(function () {\n    var mousedown = function (e) {\n      var target = e.target;\n      var refs = getRefs(ref);\n\n      if (refs.filter(function (r) {\n        return !!r;\n      }).every(function (r) {\n        return !r.contains(target);\n      })) {\n        setActive(true);\n        onClickOutside(e);\n      }\n    };\n\n    var mouseup = function (e) {\n      var target = e.target;\n      var refs = getRefs(ref);\n\n      if (refs.filter(function (r) {\n        return !!r;\n      }).every(function (r) {\n        return !r.contains(target);\n      })) {\n        setActive(false);\n      }\n    };\n\n    document.addEventListener('mousedown', mousedown);\n    document.addEventListener('mouseup', mouseup);\n    return function () {\n      document.removeEventListener('mousedown', mousedown);\n      document.removeEventListener('mouseup', mouseup);\n    };\n  }, [ref, onClickOutside]);\n  return [isActive];\n};\n\nfunction getRefs(ref) {\n  if (Array.isArray(ref)) {\n    return ref.map(function (item) {\n      if (isRef(item)) return item.current;\n      return item;\n    });\n  } else if (isRef(ref)) {\n    return [ref.current];\n  } else {\n    return [ref];\n  }\n}\n\nfunction isRef(ref) {\n  return !!(ref === null || ref === void 0 ? void 0 : ref.current);\n}","map":{"version":3,"sources":["../../src/hooks/useClickOutside.ts"],"names":[],"mappings":"cAAA;;;;;;;AAEA,IAAA,OAAA,GAAA,OAAA,CAAA,OAAA,CAAA;AAEA;;;;;;;;AAMa,OAAA,CAAA,eAAA,GAAkB,UAC7B,GAD6B,EAE7B,cAF6B,EAEU;AAEjC,MAAA,EAAA,GAAwB,OAAA,CAAA,QAAA,CAAS,KAAT,CAAxB;AAAA,MAAC,QAAQ,GAAA,EAAA,CAAA,CAAA,CAAT;AAAA,MAAW,SAAS,GAAA,EAAA,CAAA,CAAA,CAApB;;AAEN,EAAA,OAAA,CAAA,SAAA,CAAU,YAAA;AACR,QAAM,SAAS,GAAG,UAAC,CAAD,EAAc;AAC9B,UAAM,MAAM,GAAG,CAAC,CAAC,MAAjB;AACA,UAAM,IAAI,GAAG,OAAO,CAAC,GAAD,CAApB;;AAEA,UAAI,IAAI,CAAC,MAAL,CAAY,UAAC,CAAD,EAAE;AAAK,eAAA,CAAC,CAAD,CAAA;AAAG,OAAtB,EAAwB,KAAxB,CAA8B,UAAC,CAAD,EAAE;AAAK,eAAA,CAAC,CAAC,CAAC,QAAF,CAAD,MAAC,CAAD;AAAmB,OAAxD,CAAJ,EAA+D;AAC7D,QAAA,SAAS,CAAC,IAAD,CAAT;AACA,QAAA,cAAc,CAAC,CAAD,CAAd;AACD;AACF,KARD;;AAUA,QAAM,OAAO,GAAG,UAAC,CAAD,EAAc;AAC5B,UAAM,MAAM,GAAG,CAAC,CAAC,MAAjB;AACA,UAAM,IAAI,GAAG,OAAO,CAAC,GAAD,CAApB;;AAEA,UAAI,IAAI,CAAC,MAAL,CAAY,UAAC,CAAD,EAAE;AAAK,eAAA,CAAC,CAAD,CAAA;AAAG,OAAtB,EAAwB,KAAxB,CAA8B,UAAC,CAAD,EAAE;AAAK,eAAA,CAAC,CAAC,CAAC,QAAF,CAAD,MAAC,CAAD;AAAmB,OAAxD,CAAJ,EAA+D;AAC7D,QAAA,SAAS,CAAC,KAAD,CAAT;AACD;AACF,KAPD;;AASA,IAAA,QAAQ,CAAC,gBAAT,CAA0B,WAA1B,EAAuC,SAAvC;AACA,IAAA,QAAQ,CAAC,gBAAT,CAA0B,SAA1B,EAAqC,OAArC;AAEA,WAAO,YAAA;AACL,MAAA,QAAQ,CAAC,mBAAT,CAA6B,WAA7B,EAA0C,SAA1C;AACA,MAAA,QAAQ,CAAC,mBAAT,CAA6B,SAA7B,EAAwC,OAAxC;AACD,KAHD;AAID,GA3BD,EA2BG,CAAC,GAAD,EAAM,cAAN,CA3BH;AA6BA,SAAO,CAAC,QAAD,CAAP;AACD,CApCY;;AAsCb,SAAS,OAAT,CACE,GADF,EACgG;AAE9F,MAAI,KAAK,CAAC,OAAN,CAAc,GAAd,CAAJ,EAAwB;AACtB,WAAQ,GAAU,CAAC,GAAX,CAAe,UAAC,IAAD,EAAU;AAC/B,UAAI,KAAK,CAAC,IAAD,CAAT,EAAiB,OAAO,IAAI,CAAC,OAAZ;AACjB,aAAO,IAAP;AACD,KAHO,CAAR;AAID,GALD,MAKO,IAAI,KAAK,CAAC,GAAD,CAAT,EAAgB;AACrB,WAAO,CAAC,GAAG,CAAC,OAAL,CAAP;AACD,GAFM,MAEA;AACL,WAAO,CAAC,GAAD,CAAP;AACD;AACF;;AAED,SAAS,KAAT,CAAe,GAAf,EAAuB;AACrB,SAAO,CAAC,EAAC,GAAG,KAAA,IAAH,IAAA,GAAG,KAAA,KAAA,CAAH,GAAG,KAAA,CAAH,GAAA,GAAG,CAAE,OAAN,CAAR;AACD","sourceRoot":"","sourcesContent":["\"use strict\";\n// From https://github.com/sandiiarov/use-events/blob/master/src/useClickOutside/index.tsx\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useClickOutside = void 0;\nvar react_1 = require(\"react\");\n/**\n * Trigger a callback whenever a click is made outside the ref elements.\n *\n * @param ref The target element(s) to ignore.\n * @param onClickOutside The callback function to be called.\n */\nexports.useClickOutside = function (ref, onClickOutside) {\n    var _a = react_1.useState(false), isActive = _a[0], setActive = _a[1];\n    react_1.useEffect(function () {\n        var mousedown = function (e) {\n            var target = e.target;\n            var refs = getRefs(ref);\n            if (refs.filter(function (r) { return !!r; }).every(function (r) { return !r.contains(target); })) {\n                setActive(true);\n                onClickOutside(e);\n            }\n        };\n        var mouseup = function (e) {\n            var target = e.target;\n            var refs = getRefs(ref);\n            if (refs.filter(function (r) { return !!r; }).every(function (r) { return !r.contains(target); })) {\n                setActive(false);\n            }\n        };\n        document.addEventListener('mousedown', mousedown);\n        document.addEventListener('mouseup', mouseup);\n        return function () {\n            document.removeEventListener('mousedown', mousedown);\n            document.removeEventListener('mouseup', mouseup);\n        };\n    }, [ref, onClickOutside]);\n    return [isActive];\n};\nfunction getRefs(ref) {\n    if (Array.isArray(ref)) {\n        return ref.map(function (item) {\n            if (isRef(item))\n                return item.current;\n            return item;\n        });\n    }\n    else if (isRef(ref)) {\n        return [ref.current];\n    }\n    else {\n        return [ref];\n    }\n}\nfunction isRef(ref) {\n    return !!(ref === null || ref === void 0 ? void 0 : ref.current);\n}\n//# sourceMappingURL=useClickOutside.js.map"]},"metadata":{},"sourceType":"script"}