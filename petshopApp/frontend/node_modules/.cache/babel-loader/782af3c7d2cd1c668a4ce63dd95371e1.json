{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Tooltip = void 0;\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_popper_1 = require(\"react-popper\");\n\nvar useTransition_1 = require(\"../../hooks/useTransition\");\n\nvar styles_1 = require(\"../../styles\");\n\nvar string_1 = require(\"../../util/string\");\n\nvar Portal_1 = require(\"../Portal\");\n\nvar RootRef_1 = require(\"../RootRef\");\n\nvar TooltipPopper_1 = require(\"./TooltipPopper\");\n\nfunction Tooltip(props) {\n  var text = props.text,\n      offset = props.offset,\n      children = props.children,\n      externalStyle = props.style,\n      transitionDelay = props.transitionDelay,\n      container = props.container,\n      rest = __rest(props, [\"text\", \"offset\", \"children\", \"style\", \"transitionDelay\", \"container\"]);\n\n  var child = react_1.default.Children.only(children);\n\n  var _a = styles_1.useStyles(createStyles, props),\n      css = _a.css,\n      theme = _a.theme,\n      classes = _a.classes;\n\n  var _b = react_1.useState(false),\n      visible = _b[0],\n      setVisible = _b[1];\n\n  var rootRef = react_1.useRef();\n\n  var _c = react_1.useState(),\n      popperRef = _c[0],\n      setPopperRef = _c[1];\n\n  var tooltipId = react_1.useMemo(function () {\n    return \"tooltip-\" + string_1.randomStr();\n  }, []);\n  var transitionState = useTransition_1.useTransition(visible, {\n    exitTimeout: transitionDelay\n  });\n  var popperStyles = react_popper_1.usePopper(rootRef.current, popperRef, __assign({\n    modifiers: [{\n      name: 'default',\n      options: {\n        offset: {\n          offset: \"0, \" + theme.typography.sizes.html * offset\n        },\n        preventOverflow: {\n          boundariesElement: 'window'\n        }\n      }\n    }]\n  }, rest)).styles.popper;\n  react_1.useEffect(function () {\n    if (!rootRef || !visible) {\n      return;\n    }\n\n    var handleWindowPointerOver = function (e) {\n      var _a; // This is implemented using mouseover since mouseleave does not trigger\n      // for disabled elements due to browser/react bugs (https://github.com/facebook/react/issues/4251)\n\n\n      var target = e.target;\n\n      if (!((_a = rootRef.current) === null || _a === void 0 ? void 0 : _a.contains(target))) {\n        setVisible(false);\n      }\n    };\n\n    window.addEventListener('pointerover', handleWindowPointerOver);\n    return function () {\n      return window.removeEventListener('pointerover', handleWindowPointerOver);\n    };\n  }, [rootRef, visible]);\n  var handlePointerEnter = react_1.useCallback(function (e) {\n    setVisible(true);\n    child.props.onPointerEnter && child.props.onPointerEnter(e);\n  }, []);\n  var handleFocus = react_1.useCallback(function (e) {\n    setVisible(true);\n    child.props.onFocus && child.props.onFocus(e);\n  }, []);\n  var handleBlur = react_1.useCallback(function (e) {\n    setVisible(false);\n    child.props.onBlur && child.props.onBlur(e);\n  }, []);\n\n  if (!text) {\n    return child;\n  }\n\n  return react_1.default.createElement(react_1.default.Fragment, null, react_1.default.createElement(RootRef_1.RootRef, {\n    rootRef: rootRef\n  }, react_1.default.cloneElement(child, {\n    title: !visible ? child.props.title || text : child.props.title,\n    'aria-describedby': visible ? tooltipId : undefined,\n    onPointerEnter: handlePointerEnter,\n    onFocus: handleFocus,\n    onBlur: handleBlur\n  })), transitionState !== 'exited' && react_1.default.createElement(Portal_1.Portal, {\n    container: container\n  }, react_1.default.createElement(\"div\", {\n    id: tooltipId,\n    ref: setPopperRef,\n    className: css(classes.popper, transitionState === 'entered' && classes.visible),\n    style: popperStyles,\n    role: 'tooltip',\n    \"aria-hidden\": !visible ? 'true' : 'false'\n  }, react_1.default.createElement(TooltipPopper_1.TooltipPopper, {\n    text: text,\n    style: externalStyle\n  }))));\n}\n\nexports.Tooltip = Tooltip;\nTooltip.defaultProps = {\n  placement: 'top',\n  offset: 0.25,\n  transitionDelay: 200\n};\n\nvar createStyles = function (theme, _a) {\n  var transitionDelay = _a.transitionDelay;\n  return {\n    popper: {\n      zIndex: theme.zIndex.tooltip,\n      transition: \"opacity \" + transitionDelay + \"ms ease\",\n      opacity: 0\n    },\n    visible: {\n      opacity: 1\n    }\n  };\n};","map":{"version":3,"sources":["../../../src/components/Tooltip/Tooltip.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Tooltip = void 0;\nvar react_1 = __importStar(require(\"react\"));\nvar react_popper_1 = require(\"react-popper\");\nvar useTransition_1 = require(\"../../hooks/useTransition\");\nvar styles_1 = require(\"../../styles\");\nvar string_1 = require(\"../../util/string\");\nvar Portal_1 = require(\"../Portal\");\nvar RootRef_1 = require(\"../RootRef\");\nvar TooltipPopper_1 = require(\"./TooltipPopper\");\nfunction Tooltip(props) {\n    var text = props.text, offset = props.offset, children = props.children, externalStyle = props.style, transitionDelay = props.transitionDelay, container = props.container, rest = __rest(props, [\"text\", \"offset\", \"children\", \"style\", \"transitionDelay\", \"container\"]);\n    var child = react_1.default.Children.only(children);\n    var _a = styles_1.useStyles(createStyles, props), css = _a.css, theme = _a.theme, classes = _a.classes;\n    var _b = react_1.useState(false), visible = _b[0], setVisible = _b[1];\n    var rootRef = react_1.useRef();\n    var _c = react_1.useState(), popperRef = _c[0], setPopperRef = _c[1];\n    var tooltipId = react_1.useMemo(function () { return \"tooltip-\" + string_1.randomStr(); }, []);\n    var transitionState = useTransition_1.useTransition(visible, { exitTimeout: transitionDelay });\n    var popperStyles = react_popper_1.usePopper(rootRef.current, popperRef, __assign({ modifiers: [\n            {\n                name: 'default',\n                options: {\n                    offset: { offset: \"0, \" + theme.typography.sizes.html * offset },\n                    preventOverflow: {\n                        boundariesElement: 'window',\n                    },\n                },\n            },\n        ] }, rest)).styles.popper;\n    react_1.useEffect(function () {\n        if (!rootRef || !visible) {\n            return;\n        }\n        var handleWindowPointerOver = function (e) {\n            var _a;\n            // This is implemented using mouseover since mouseleave does not trigger\n            // for disabled elements due to browser/react bugs (https://github.com/facebook/react/issues/4251)\n            var target = e.target;\n            if (!((_a = rootRef.current) === null || _a === void 0 ? void 0 : _a.contains(target))) {\n                setVisible(false);\n            }\n        };\n        window.addEventListener('pointerover', handleWindowPointerOver);\n        return function () { return window.removeEventListener('pointerover', handleWindowPointerOver); };\n    }, [rootRef, visible]);\n    var handlePointerEnter = react_1.useCallback(function (e) {\n        setVisible(true);\n        child.props.onPointerEnter && child.props.onPointerEnter(e);\n    }, []);\n    var handleFocus = react_1.useCallback(function (e) {\n        setVisible(true);\n        child.props.onFocus && child.props.onFocus(e);\n    }, []);\n    var handleBlur = react_1.useCallback(function (e) {\n        setVisible(false);\n        child.props.onBlur && child.props.onBlur(e);\n    }, []);\n    if (!text) {\n        return child;\n    }\n    return (react_1.default.createElement(react_1.default.Fragment, null,\n        react_1.default.createElement(RootRef_1.RootRef, { rootRef: rootRef }, react_1.default.cloneElement(child, {\n            title: !visible ? child.props.title || text : child.props.title,\n            'aria-describedby': visible ? tooltipId : undefined,\n            onPointerEnter: handlePointerEnter,\n            onFocus: handleFocus,\n            onBlur: handleBlur,\n        })),\n        transitionState !== 'exited' && (react_1.default.createElement(Portal_1.Portal, { container: container },\n            react_1.default.createElement(\"div\", { id: tooltipId, ref: setPopperRef, className: css(classes.popper, transitionState === 'entered' && classes.visible), style: popperStyles, role: 'tooltip', \"aria-hidden\": !visible ? 'true' : 'false' },\n                react_1.default.createElement(TooltipPopper_1.TooltipPopper, { text: text, style: externalStyle }))))));\n}\nexports.Tooltip = Tooltip;\nTooltip.defaultProps = {\n    placement: 'top',\n    offset: 0.25,\n    transitionDelay: 200,\n};\nvar createStyles = function (theme, _a) {\n    var transitionDelay = _a.transitionDelay;\n    return ({\n        popper: {\n            zIndex: theme.zIndex.tooltip,\n            transition: \"opacity \" + transitionDelay + \"ms ease\",\n            opacity: 0,\n        },\n        visible: {\n            opacity: 1,\n        },\n    });\n};\n//# sourceMappingURL=Tooltip.js.map"]},"metadata":{},"sourceType":"script"}