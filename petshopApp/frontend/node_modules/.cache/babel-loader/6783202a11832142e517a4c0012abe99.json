{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.defaultColumnStyles = exports.DataTableDefault = exports.DataTable = void 0;\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar styles_1 = require(\"../../../styles\");\n\nvar Table_1 = require(\"../Table\");\n\nvar TableFilledBody_1 = require(\"./TableFilledBody\");\n\nfunction DataTable(props) {\n  var css = styles_1.useCss().css;\n\n  var getColumn = function (columnName) {\n    return props.columns.find(function (col) {\n      return col.name === columnName;\n    });\n  };\n\n  var getHeaderProps = function (column) {\n    var col = typeof column === 'string' ? getColumn(column) : column;\n\n    if (!col) {\n      throw new Error(\"Column '\" + column + \"' not found.\");\n    }\n\n    var name = col.name,\n        sortable = col.sortable,\n        style = col.style;\n    return {\n      key: name,\n      'data-name': name,\n      sortable: sortable,\n      sortDirection: getSortDirection(col),\n      onSortChange: handleSortChange(col),\n      style: css(exports.defaultColumnStyles(col), style)\n    };\n  };\n\n  var handleSortChange = function (col) {\n    return function (sortDirection, shiftKey) {\n      if (shiftKey) {\n        props.onSortChange(changeSort(props.sort, col.name, sortDirection));\n      } else {\n        props.onSortChange([sortDirection === 'ASC' ? col.name : \"-\" + col.name]);\n      }\n    };\n  };\n\n  var getSortDirection = function (col) {\n    var sorts = props.sort || [];\n    var name = col.name;\n\n    for (var _i = 0, sorts_1 = sorts; _i < sorts_1.length; _i++) {\n      var sort = sorts_1[_i];\n\n      if (sort === name) {\n        return 'ASC';\n      } else if (sort === \"-\" + name) {\n        return 'DESC';\n      }\n    }\n\n    return null;\n  };\n\n  return react_1.default.createElement(react_1.default.Fragment, null, props.render(__assign(__assign({}, props), {\n    getHeaderProps: getHeaderProps,\n    getColumn: getColumn\n  })));\n}\n\nexports.DataTable = DataTable;\nDataTable.defaultProps = {\n  loading: false,\n  sort: null,\n  onSortChange: function () {\n    return null;\n  },\n  render: function (renderProps) {\n    return react_1.default.createElement(DataTableDefault, __assign({}, renderProps));\n  },\n  onRowClick: null,\n  hovered: true\n};\n\nfunction DataTableDefault(props) {\n  var columns = props.columns,\n      rows = props.rows,\n      loading = props.loading,\n      onSortChange = props.onSortChange,\n      sort = props.sort,\n      getHeaderProps = props.getHeaderProps,\n      getColumn = props.getColumn,\n      render = props.render,\n      onRowClick = props.onRowClick,\n      rest = __rest(props, [\"columns\", \"rows\", \"loading\", \"onSortChange\", \"sort\", \"getHeaderProps\", \"getColumn\", \"render\", \"onRowClick\"]);\n\n  return react_1.default.createElement(Table_1.Table, __assign({}, rest), react_1.default.createElement(Table_1.TableHead, null, react_1.default.createElement(Table_1.TableRow, null, columns.map(function (col) {\n    return react_1.default.createElement(Table_1.TableHeader, __assign({\n      key: col.name\n    }, getHeaderProps(col)), col.header);\n  }))), react_1.default.createElement(TableFilledBody_1.TableFilledBody, {\n    rows: rows,\n    columns: columns,\n    loading: loading,\n    onRowClick: onRowClick\n  }));\n}\n\nexports.DataTableDefault = DataTableDefault;\n\nvar changeSort = function (sort, name, dir) {\n  var newSort = dir === 'ASC' ? name : \"-\" + name;\n  var swap = false;\n  var newArray = sort.map(function (s) {\n    if (s === name || s === \"-\" + name) {\n      swap = true;\n      return newSort;\n    }\n\n    return s;\n  });\n  return swap ? newArray : __spreadArrays(newArray, [newSort]);\n};\n\nexports.defaultColumnStyles = function (col) {\n  return {\n    textAlign: col.align\n  };\n};","map":{"version":3,"sources":["../../../../src/components/Table/DataTable/DataTable.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultColumnStyles = exports.DataTableDefault = exports.DataTable = void 0;\nvar react_1 = __importDefault(require(\"react\"));\nvar styles_1 = require(\"../../../styles\");\nvar Table_1 = require(\"../Table\");\nvar TableFilledBody_1 = require(\"./TableFilledBody\");\nfunction DataTable(props) {\n    var css = styles_1.useCss().css;\n    var getColumn = function (columnName) {\n        return props.columns.find(function (col) { return col.name === columnName; });\n    };\n    var getHeaderProps = function (column) {\n        var col = typeof column === 'string' ? getColumn(column) : column;\n        if (!col) {\n            throw new Error(\"Column '\" + column + \"' not found.\");\n        }\n        var name = col.name, sortable = col.sortable, style = col.style;\n        return {\n            key: name,\n            'data-name': name,\n            sortable: sortable,\n            sortDirection: getSortDirection(col),\n            onSortChange: handleSortChange(col),\n            style: css(exports.defaultColumnStyles(col), style),\n        };\n    };\n    var handleSortChange = function (col) { return function (sortDirection, shiftKey) {\n        if (shiftKey) {\n            props.onSortChange(changeSort(props.sort, col.name, sortDirection));\n        }\n        else {\n            props.onSortChange([sortDirection === 'ASC' ? col.name : \"-\" + col.name]);\n        }\n    }; };\n    var getSortDirection = function (col) {\n        var sorts = props.sort || [];\n        var name = col.name;\n        for (var _i = 0, sorts_1 = sorts; _i < sorts_1.length; _i++) {\n            var sort = sorts_1[_i];\n            if (sort === name) {\n                return 'ASC';\n            }\n            else if (sort === \"-\" + name) {\n                return 'DESC';\n            }\n        }\n        return null;\n    };\n    return (react_1.default.createElement(react_1.default.Fragment, null, props.render(__assign(__assign({}, props), { getHeaderProps: getHeaderProps,\n        getColumn: getColumn }))));\n}\nexports.DataTable = DataTable;\nDataTable.defaultProps = {\n    loading: false,\n    sort: null,\n    onSortChange: function () { return null; },\n    render: function (renderProps) { return react_1.default.createElement(DataTableDefault, __assign({}, renderProps)); },\n    onRowClick: null,\n    hovered: true,\n};\nfunction DataTableDefault(props) {\n    var columns = props.columns, rows = props.rows, loading = props.loading, onSortChange = props.onSortChange, sort = props.sort, getHeaderProps = props.getHeaderProps, getColumn = props.getColumn, render = props.render, onRowClick = props.onRowClick, rest = __rest(props, [\"columns\", \"rows\", \"loading\", \"onSortChange\", \"sort\", \"getHeaderProps\", \"getColumn\", \"render\", \"onRowClick\"]);\n    return (react_1.default.createElement(Table_1.Table, __assign({}, rest),\n        react_1.default.createElement(Table_1.TableHead, null,\n            react_1.default.createElement(Table_1.TableRow, null, columns.map(function (col) { return (react_1.default.createElement(Table_1.TableHeader, __assign({ key: col.name }, getHeaderProps(col)), col.header)); }))),\n        react_1.default.createElement(TableFilledBody_1.TableFilledBody, { rows: rows, columns: columns, loading: loading, onRowClick: onRowClick })));\n}\nexports.DataTableDefault = DataTableDefault;\nvar changeSort = function (sort, name, dir) {\n    var newSort = dir === 'ASC' ? name : \"-\" + name;\n    var swap = false;\n    var newArray = sort.map(function (s) {\n        if (s === name || s === \"-\" + name) {\n            swap = true;\n            return newSort;\n        }\n        return s;\n    });\n    return swap ? newArray : __spreadArrays(newArray, [newSort]);\n};\nexports.defaultColumnStyles = function (col) { return ({\n    textAlign: col.align,\n}); };\n//# sourceMappingURL=DataTable.js.map"]},"metadata":{},"sourceType":"script"}